{% extends "base.html" %}

{% block title %}All Tasks{% endblock %}

{% block content %}

<h2 class="mb-4">All Scheduled Tasks</h2>

{% if tasks %}
    <form method="POST" action="{{ url_for('bulk_complete_tasks') }}">

        {% for task in tasks %}
            <div class="card mb-2 p-3">

                <div class="form-check">

                    <input class="form-check-input"
                           type="checkbox"
                           name="completed_tasks"
                           value="{{ task.id }}"
                           id="task{{ task.id }}"
                           {% if task.is_completed %}checked{% endif %}>

                    <label class="form-check-label"
                           for="task{{ task.id }}">

                        <strong>{{ task.task_date }}</strong> â€”
                        {{ task.subject.name }} :
                        {{ task.topic.name }}

                    </label>

                </div>

            </div>
        {% endfor %}

        <button type="submit" class="btn btn-success mt-3">
            Update Completed Tasks
        </button>

    </form>

{% else %}
    <p>No tasks scheduled.</p>
{% endif %}

{% endblock %}
